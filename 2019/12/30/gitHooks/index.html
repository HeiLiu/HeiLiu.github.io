<!DOCTYPE html>

<html lang="zh-CN">

<head>
    
    <title>gitHooks - HeiLiu</title>
    <meta charset="UTF-8">
    <meta name="description" content="ä¸€ç›´åœ¨è·¯ä¸Šçš„ç¨‹åºå‘˜">
    <meta name="keywords" content="åšå®¢ ç¨‹åºå‘˜ åˆ†äº«">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
    
    

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <meta name="description" content="æœ€å¼€å§‹åªæ˜¯æƒ³è¦å®ç°åŸºæœ¬çš„ä¸€ä¸ªé£æ ¼çš„æ£€æŸ¥ä»¥åŠé¡¹ç›®çš„ç‰ˆæœ¬çš„æ§åˆ¶   å·¥ä½œæµï¼š git add å°†æœ¬åœ°ä¿®æ”¹åŠ å…¥æš‚å­˜åŒº -&gt; commit -&gt; é£æ ¼ã€è§„èŒƒæ£€æŸ¥ -&gt; ç”Ÿæˆç‰ˆæœ¬ -&gt; æ—¥å¿—ç”Ÿæˆ -&gt; push åœ¨æäº¤å‰å¯¹æäº¤éƒ¨åˆ†è¿›è¡Œé£æ ¼æ£€æŸ¥husky + lint-staged + eslint + prettier huskyä½¿ç”¨ husky æ¥ç®¡ç†æäº¤çš„ä¿®æ”¹ï¼Œå¯ä»¥åœ¨ gi">
<meta property="og:type" content="article">
<meta property="og:title" content="gitHooks">
<meta property="og:url" content="https://heiliu.github.io/2019/12/30/gitHooks/">
<meta property="og:site_name" content="HeiLiu">
<meta property="og:description" content="æœ€å¼€å§‹åªæ˜¯æƒ³è¦å®ç°åŸºæœ¬çš„ä¸€ä¸ªé£æ ¼çš„æ£€æŸ¥ä»¥åŠé¡¹ç›®çš„ç‰ˆæœ¬çš„æ§åˆ¶   å·¥ä½œæµï¼š git add å°†æœ¬åœ°ä¿®æ”¹åŠ å…¥æš‚å­˜åŒº -&gt; commit -&gt; é£æ ¼ã€è§„èŒƒæ£€æŸ¥ -&gt; ç”Ÿæˆç‰ˆæœ¬ -&gt; æ—¥å¿—ç”Ÿæˆ -&gt; push åœ¨æäº¤å‰å¯¹æäº¤éƒ¨åˆ†è¿›è¡Œé£æ ¼æ£€æŸ¥husky + lint-staged + eslint + prettier huskyä½¿ç”¨ husky æ¥ç®¡ç†æäº¤çš„ä¿®æ”¹ï¼Œå¯ä»¥åœ¨ gi">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-12-30T09:37:27.000Z">
<meta property="article:modified_time" content="2020-01-02T10:07:07.130Z">
<meta property="article:author" content="å°åˆ«è‡´çœŸä¸œè¥¿">
<meta property="article:tag" content="åšå®¢ ç¨‹åºå‘˜ åˆ†äº«">
<meta name="twitter:card" content="summary">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/combine/npm/highlight.js@9.15.8/styles/atom-one-dark.css,npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css,gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css,npm/hexo-theme-nexmoe@latest/source/lib/mdui_043tiny/css/mdui.css,npm/hexo-theme-nexmoe@latest/source/lib/iconfont/iconfont.css?v=233" crossorigin>
    <link rel="stylesheet" href="/css/style.css?v=1630501192961">
    
    <link rel="stylesheet" href="/lib/iconfont/iconfont.css?v=1630501192961">
<meta name="generator" content="Hexo 5.4.0"></head>

<body class="mdui-drawer-body-left">
    
    <div id="nexmoe-background">
        <div class="nexmoe-bg" style="background-image: url(https://cdn.pixabay.com/photo/2021/08/20/20/05/mountains-6561191__480.jpg)"></div>
        <div class="mdui-appbar mdui-shadow-0">
            <div class="mdui-toolbar">
                <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon mdui-ripple"><i class="mdui-icon nexmoefont icon-menu"></i></a>
                <div class="mdui-toolbar-spacer"></div>
                <!--<a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>-->
                <a href="/" title="å°åˆ«è‡´çœŸä¸œè¥¿" class="mdui-btn mdui-btn-icon"><img src="https://avatars1.githubusercontent.com/u/29034936?s=400&amp;u=568e2bb8e4bb03a573e9138e715699e492fbe399&amp;v=4" alt="å°åˆ«è‡´çœŸä¸œè¥¿"></a>
            </div>
        </div>
    </div>
    <div id="nexmoe-header">
        <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="å°åˆ«è‡´çœŸä¸œè¥¿">
            <img src="https://avatars1.githubusercontent.com/u/29034936?s=400&amp;u=568e2bb8e4bb03a573e9138e715699e492fbe399&amp;v=4" alt="å°åˆ«è‡´çœŸä¸œè¥¿" alt="å°åˆ«è‡´çœŸä¸œè¥¿">
        </a>
    </div>
    <div class="nexmoe-count">
        <div><span>æ–‡ç« </span>77</div>
        <div><span>æ ‡ç­¾</span>31</div>
        <div><span>åˆ†ç±»</span>26</div>
    </div>
    <div class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/" title="å›åˆ°é¦–é¡µ">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                å›åˆ°é¦–é¡µ
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/archive/" title="æ–‡ç« å½’æ¡£">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                æ–‡ç« å½’æ¡£
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/about/" title="å…³äºåšå®¢">
            <i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
            <div class="mdui-list-item-content">
                å…³äºåšå®¢
            </div>
        </a>
        
    </div>
    <aside id="nexmoe-sidebar">
    
    <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-search">
         
            <form id="search_form" action_e="https://cn.bing.com/search?q=site:nexmoe.com" onsubmit="return search();">
                <label><input id="search_value" name="q" type="search" placeholder="æœç´¢"></label>
            </form>
         
    </div>
</div>
    
    <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-social">
        <a class="mdui-ripple" href="https://github.com/heiliu/" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color: rgb(25, 23, 23);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-github"></i>
        </a><a class="mdui-ripple" href="tencent://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=969403750&website=www.oicqzone.com" target="_blank" mdui-tooltip="{content: 'QQ'}" style="color: rgb(249, 174, 8);background-color: rgba(249, 174, 8, .1);">
            <i class="nexmoefont icon-QQ"></i>
        </a>
    </div>
</div>
    
    
  <div class="nexmoe-widget-wrap">
    <div id="randomtagcloud" class="nexmoe-widget tagcloud nexmoe-rainbow">
      <a href="/tags/Css/" style="font-size: 12.5px;">Css</a> <a href="/tags/Css3/" style="font-size: 10px;">Css3</a> <a href="/tags/E2E%E6%B5%8B%E8%AF%95/" style="font-size: 10px;">E2Eæµ‹è¯•</a> <a href="/tags/Flex/" style="font-size: 10px;">Flex</a> <a href="/tags/Foo/" style="font-size: 10px;">Foo</a> <a href="/tags/Git/" style="font-size: 17.5px;">Git</a> <a href="/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/NPM/" style="font-size: 10px;">NPM</a> <a href="/tags/Note/" style="font-size: 15px;">Note</a> <a href="/tags/Quote/" style="font-size: 10px;">Quote</a> <a href="/tags/React/" style="font-size: 17.5px;">React</a> <a href="/tags/React-router/" style="font-size: 10px;">React-router</a> <a href="/tags/Skill/" style="font-size: 10px;">Skill</a> <a href="/tags/Test/" style="font-size: 10px;">Test</a> <a href="/tags/Vue/" style="font-size: 10px;">Vue</a> <a href="/tags/WebPack/" style="font-size: 10px;">WebPack</a> <a href="/tags/Yarn/" style="font-size: 10px;">Yarn</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/redux/" style="font-size: 10px;">redux</a> <a href="/tags/%E5%80%92%E8%85%BE/" style="font-size: 12.5px;">å€’è…¾</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 17.5px;">å‰ç«¯</a> <a href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 12.5px;">å°ç¨‹åº</a> <a href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" style="font-size: 10px;">æ€§èƒ½ä¼˜åŒ–</a> <a href="/tags/%E7%AC%94%E8%AE%B0/" style="font-size: 10px;">ç¬”è®°</a> <a href="/tags/%E8%A7%84%E5%88%92/" style="font-size: 10px;">è§„åˆ’</a> <a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 10px;">éšç¬”</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 12.5px;">é¢è¯•</a> <a href="/tags/%F0%9F%8C%9D/" style="font-size: 12.5px;">ğŸŒ</a>
    </div>
    
  </div>

    
    
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">æ–‡ç« åˆ†ç±»</h3>
    <div class="nexmoe-widget">

      <ul class="category-list">

        


        

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Skill/Git/">Git</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JSè¯­è¨€ç²¾ç²¹/">JSè¯­è¨€ç²¾ç²¹</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Skill/JavaScript/">JavaScript</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/NPM/">NPM</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Nodeæœ€ä½³å®è·µ/">Nodeæœ€ä½³å®è·µ</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Skill/Note/">Note</a>
          <span class="category-list-count">4</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/React/">React</a>
          <span class="category-list-count">5</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Skill/">Skill</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Test/">Test</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/å‰ç«¯/Vue/">Vue</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/hexo/">hexo</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/å‰ç«¯/webPack/">webPack</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/å€’è…¾/">å€’è…¾</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/å‰ç«¯/">å‰ç«¯</a>
          <span class="category-list-count">16</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/å°ç¨‹åº/">å°ç¨‹åº</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/æœ‰æ„Ÿ/">æœ‰æ„Ÿ</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ç”Ÿæ´»/">ç”Ÿæ´»</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/ç¬”è®°/">ç¬”è®°</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/é¢è¯•/">é¢è¯•</a>
          <span class="category-list-count">1</span>
        </li>

        
      </ul>

    </div>
  </div>


    
</aside>
    <div class="nexmoe-copyright">
        &copy; 2021 å°åˆ«è‡´çœŸä¸œè¥¿
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://github.com/theme-nexmoe/hexo-theme-nexmoe" target="_blank">Nexmoe</a>
        
    </div>
</div><!-- .nexmoe-drawer -->
    </div>
    <div id="nexmoe-content">
        <div class="nexmoe-primary">
            <div class="nexmoe-post">

  <article>
      
          <div class="nexmoe-post-cover" style="padding-bottom: 52.77777777777778%;"> 
              <img data-src="https://cdn.pixabay.com/photo/2021/08/20/20/05/mountains-6561191__480.jpg" data-sizes="auto" alt="gitHooks" class="lazyload">
              <h1>gitHooks</h1>
          </div>
      
      
      <div class="nexmoe-post-meta nexmoe-rainbow" style="margin:10px 0!important;">
    <a><i class="nexmoefont icon-calendar-fill"></i>2019å¹´12æœˆ30æ—¥</a>
    <a><i class="nexmoefont icon-areachart"></i>1.6k å­—</a>
    <a><i class="nexmoefont icon-time-circle-fill"></i>å¤§æ¦‚ 7 åˆ†é’Ÿ</a>
</div>

      

      <p>æœ€å¼€å§‹åªæ˜¯æƒ³è¦å®ç°åŸºæœ¬çš„ä¸€ä¸ªé£æ ¼çš„æ£€æŸ¥ä»¥åŠé¡¹ç›®çš„ç‰ˆæœ¬çš„æ§åˆ¶  </p>
<p>å·¥ä½œæµï¼š git add å°†æœ¬åœ°ä¿®æ”¹åŠ å…¥æš‚å­˜åŒº -&gt; commit -&gt; é£æ ¼ã€è§„èŒƒæ£€æŸ¥ -&gt; ç”Ÿæˆç‰ˆæœ¬ -&gt; æ—¥å¿—ç”Ÿæˆ -&gt; push</p>
<h2 id="åœ¨æäº¤å‰å¯¹æäº¤éƒ¨åˆ†è¿›è¡Œé£æ ¼æ£€æŸ¥"><a href="#åœ¨æäº¤å‰å¯¹æäº¤éƒ¨åˆ†è¿›è¡Œé£æ ¼æ£€æŸ¥" class="headerlink" title="åœ¨æäº¤å‰å¯¹æäº¤éƒ¨åˆ†è¿›è¡Œé£æ ¼æ£€æŸ¥"></a>åœ¨æäº¤å‰å¯¹æäº¤éƒ¨åˆ†è¿›è¡Œé£æ ¼æ£€æŸ¥</h2><p>husky + lint-staged + eslint + prettier</p>
<h3 id="husky"><a href="#husky" class="headerlink" title="husky"></a>husky</h3><p>ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://github.com/typicode/husky/blob/master/">husky</a> æ¥ç®¡ç†æäº¤çš„ä¿®æ”¹ï¼Œå¯ä»¥åœ¨ git commit ä¹‹å‰å†æ ¡éªŒä¸€æ¬¡ä»£ç ï¼Œè¾¾åˆ°ä½¿ç”¨ <code>pre-commit + shell/ruby</code>ç­‰è„šæœ¬è¿›è¡Œæ£€æŸ¥çš„æ•ˆæœ, exit ä¸ä¸º0 åˆ™ä¸­æ–­æäº¤</p>
<figure class="highlight 1c"><table><tr><td class="code"><pre><code class="hljs 1c"><span class="hljs-string">&quot;husky&quot;</span>: &#123;<br>  <span class="hljs-string">&quot;hooks&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;pre-commit&quot;</span>: <span class="hljs-string">&quot;prettier -c&quot;</span><br>  &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>å¦‚æ­¤é…ç½®ä¼šå°†æé¡¹ç›®ä¸­çš„æ‰€æœ‰æ–‡ä»¶è¿›è¡Œä¸€æ¬¡ prettier æ£€æŸ¥ï¼Œæµªè´¹äº†æ—¶é—´åœ¨æ— å…³æ–‡ä»¶ä¸Šã€‚è§£å†³æ–¹æ¡ˆï¼Œå¾€ä¸‹ç…</p>
<h3 id="lint-staged"><a href="#lint-staged" class="headerlink" title="lint-staged"></a>lint-staged</h3><p><a target="_blank" rel="noopener" href="https://github.com/okonet/lint-staged">lint-staged github</a> </p>
<p>å…¶ä¸­ <code>staged</code> æ˜¯ <code>Git</code> é‡Œé¢çš„æ¦‚å¿µï¼ŒæŒ‡å¾…æäº¤åŒº(æš‚å­˜åŒº)ï¼Œ <code>git add</code> å°†ä»£ç ä¿®æ”¹ç§»å…¥æš‚å­˜åŒºã€‚ </p>
<p>åªä¼šæ ¡éªŒæäº¤é‡Œé¢æŒ‡å®šéœ€è¦æ ¡éªŒçš„æ–‡ä»¶</p>
<figure class="highlight json"><table><tr><td class="code"><pre><code class="hljs json">  <span class="hljs-string">&quot;husky&quot;</span>: &#123;<br>    <span class="hljs-attr">&quot;hooks&quot;</span>: &#123;<br>      <span class="hljs-attr">&quot;pre-commit&quot;</span>: <span class="hljs-string">&quot;lint-staged&quot;</span><br>  &#125;<br>&#125;,<br><span class="hljs-comment">// æŒ‡å®šæ–‡ä»¶åŠæ ¡éªŒè§„åˆ™</span><br><span class="hljs-string">&quot;lint-staged&quot;</span>: &#123;<br>  <span class="hljs-attr">&quot;src/*.js&quot;</span>: [<br>    <span class="hljs-string">&quot;eslint --ext .js&quot;</span>,<br>    <span class="hljs-string">&quot;eslint --fix&quot;</span>,<br>    <span class="hljs-string">&quot;prettier --check &#x27;src/*.js&#x27;&quot;</span><br>  ],<br>  <span class="hljs-attr">&quot;*.css&quot;</span>: [<br>    <span class="hljs-string">&quot;prettier --check&quot;</span><br>  ]<br>&#125;,<br></code></pre></td></tr></table></figure>

<h2 id="ç‰ˆæœ¬æ§åˆ¶"><a href="#ç‰ˆæœ¬æ§åˆ¶" class="headerlink" title="ç‰ˆæœ¬æ§åˆ¶"></a>ç‰ˆæœ¬æ§åˆ¶</h2><p>ç‰ˆæœ¬å·ï¼š MAJOR.MINOR.PATCH</p>
<p><a target="_blank" rel="noopener" href="https://github.com/conventional-changelog/standard-version">standard-version</a> / <a target="_blank" rel="noopener" href="https://github.com/release-it/release-it">release-it</a></p>
<p><code>standard-version</code> æ˜¯ä¸€æ¬¾éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬<a target="_blank" rel="noopener" href="https://semver.org/">(semver)</a>å’Œ <code>commit message</code> æ ‡å‡†è§„èŒƒ çš„ç‰ˆæœ¬å’Œ <code>changlog</code> è‡ªåŠ¨åŒ–å·¥å…·ã€‚<br>é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šåœ¨ master åˆ†æ”¯è¿›è¡Œå¦‚ä¸‹çš„ç‰ˆæœ¬å‘å¸ƒæ“ä½œï¼š</p>
<ol>
<li>git pull origin master</li>
<li>æ ¹æ® pacakage.json ä¸­çš„ version æ›´æ–°ç‰ˆæœ¬å·ï¼Œæ›´æ–° changelog</li>
<li>git add -A, ç„¶å git commit</li>
<li>git tag æ‰“ç‰ˆæœ¬æ“ä½œ</li>
<li>push ç‰ˆæœ¬ tag å’Œ master åˆ†æ”¯åˆ°ä»“åº“</li>
</ol>
<p>å…¶ä¸­2ï¼Œ3ï¼Œ4åˆ™æ˜¯ standard-version å·¥å…·ä¼šè‡ªåŠ¨å®Œæˆçš„å·¥ä½œï¼Œé…åˆæœ¬åœ°çš„ shell è„šæœ¬ï¼Œåˆ™å¯ä»¥è‡ªåŠ¨å®Œæˆä¸€ç³»åˆ—ç‰ˆæœ¬å‘å¸ƒçš„å·¥ä½œäº†ã€‚</p>
<h2 id="CHANGELOG-ç”Ÿæˆ"><a href="#CHANGELOG-ç”Ÿæˆ" class="headerlink" title="CHANGELOG ç”Ÿæˆ"></a>CHANGELOG ç”Ÿæˆ</h2><p>CHANGELOGåªæœ‰åœ¨å‘ç‰ˆæ—¶åˆ»æ‰ç”Ÿæˆï¼Œå‰ææ˜¯è§„èŒƒåŒ–æäº¤<br>åœ¨ CHANGELOG.md çš„å¤´éƒ¨åŠ ä¸Šè‡ªä»ä¸Šæ¬¡å‘å¸ƒç‰ˆæœ¬ä»¥æ¥çš„å˜åŠ¨ã€‚</p>
<ul>
<li><p>commitizen<br>  æä¾›çš„ git cz å‘½ä»¤æ›¿ä»£ git commit å‘½ä»¤, å¸®åŠ©ç”Ÿæˆç¬¦åˆè§„èŒƒçš„ commit message  </p>
</li>
<li><p>cz-conventional-changelog<br>  é€‚é…å™¨ã€ä¸åŒçš„é¡¹ç›®æœ¬èº«çš„æ„å»ºæ–¹å¼çš„ä¸åŒï¼Œcommitizen æ”¯æŒä¸åŒé€‚é…å™¨çš„æ‰©å±•ï¼Œä»è€Œå»æ»¡è¶³ä¸åŒçš„æ„å»ºéœ€æ±‚çš„ã€‚ä¸€ä¸ªç¬¦åˆ Angular å›¢é˜Ÿè§„èŒƒçš„ preset  </p>
</li>
<li><p>conventional-changelog-cli<br>  é»˜è®¤æ¨èçš„ commit æ ‡å‡†æ˜¯æ¥è‡ª <code>angular</code><br>  ç›®å‰é›†æˆäº†åŒ…æ‹¬ <code>atom</code>, <code>codemirror</code>, <code>ember</code>, <code>eslint</code>, <code>express</code>, <code>jquery</code> ç­‰é¡¹ç›®çš„æ ‡å‡†</p>
</li>
<li><p>conventional-changelog-custom-config<br>  <a href="conventional-changelog-custom-config">github åœ°å€</a><br>  å®ç°è‡ªå®šä¹‰çš„ CHANGELOG éœ€è¦è¯¥æ’ä»¶æ”¯æŒè‡ªå®šä¹‰</p>
<p>  <strong>scriptå‘½ä»¤</strong>ï¼š<br>  <code>conventional-changelog -p custom-config -i CHANGELOG.md -s -r 0 -n ./changelog-option.js </code><br>  å‚æ•°å¦‚ä¸‹ï¼š  </p>
<table>
<thead>
<tr>
<th align="left">é€‰é¡¹</th>
<th align="center">è¯¦æƒ…</th>
<th align="center">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-p</td>
<td align="center">â€“preset</td>
<td align="center">ä½¿ç”¨çš„æ¨¡ç‰ˆã€é»˜è®¤æ˜¯ angularï¼Œ-p custom-config ä½¿ç”¨è‡ªå®šä¹‰çš„é…ç½®</td>
</tr>
<tr>
<td align="left">-i</td>
<td align="center">â€“infile</td>
<td align="center">Read the CHANGELOG from this file</td>
</tr>
<tr>
<td align="left">-s</td>
<td align="center">â€“same-file</td>
<td align="center">Outputting to the infile so you donâ€™t need to specify the same file as outfile</td>
</tr>
<tr>
<td align="left">-r</td>
<td align="center">â€“release-count</td>
<td align="center">ä»æœ€æ–°ç”Ÿæˆçš„ç‰ˆæœ¬æ•°å¦‚æœä¸º0ï¼Œå°†é‡æ–°ç”Ÿæˆæ•´ä¸ªå˜æ›´æ—¥å¿—ï¼Œå¹¶è¦†ç›–è¾“å‡ºæ–‡ä»¶é»˜è®¤å€¼ï¼š1</td>
</tr>
<tr>
<td align="left">-n</td>
<td align="center">â€“config</td>
<td align="center">æŒ‡å®šé…ç½®æ–‡ä»¶çš„è·¯å¾„</td>
</tr>
</tbody></table>
<p>  æ›´å¤šè¯·ä½¿ç”¨ğŸ‘‰ <code>conventional-changelog --help</code></p>
</li>
<li><p>standard-version<br>  åŒ…å«ç‰ˆæœ¬ç®¡ç†å’Œç”Ÿæˆæ—¥å¿—çš„åŠŸèƒ½</p>
</li>
</ul>
<figure class="highlight json"><table><tr><td class="code"><pre><code class="hljs json"><span class="hljs-string">&quot;scripts&quot;</span>: &#123;<br>    <span class="hljs-attr">&quot;commit&quot;</span>: <span class="hljs-string">&quot;prettier --check &#x27;src/*.js&#x27; &amp;&amp; git cz&quot;</span>,<br>    <span class="hljs-attr">&quot;lint&quot;</span>: <span class="hljs-string">&quot;eslint --ext .js&quot;</span>,<br>    <span class="hljs-attr">&quot;clog&quot;</span>: <span class="hljs-string">&quot;conventional-changelog -p custom-config -i CHANGELOG.md -s -r 0 -n ./changelog-option.js&quot;</span>,<br>    <span class="hljs-attr">&quot;prettier&quot;</span>: <span class="hljs-string">&quot;prettier --check --write &#x27;src/*.js&#x27; &#x27;static/*.css&#x27;&quot;</span>,<br>    <span class="hljs-attr">&quot;release:major&quot;</span>: <span class="hljs-string">&quot;standard-version -r major&quot;</span>,<br>    <span class="hljs-attr">&quot;release:minor&quot;</span>: <span class="hljs-string">&quot;standard-version -r minor&quot;</span>,<br>    <span class="hljs-attr">&quot;release:patch&quot;</span>: <span class="hljs-string">&quot;standard-version -r patch&quot;</span>,<br>    <span class="hljs-attr">&quot;test&quot;</span>: <span class="hljs-string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><br>  &#125;,<br>  <span class="hljs-string">&quot;commitizen&quot;</span>: &#123;<br>    <span class="hljs-attr">&quot;path&quot;</span>: <span class="hljs-string">&quot;cz-conventional-changelog&quot;</span><br>  &#125;,<br>  <span class="hljs-string">&quot;husky&quot;</span>: &#123;<br>    <span class="hljs-attr">&quot;hooks&quot;</span>: &#123;<br>      <span class="hljs-attr">&quot;pre-commit&quot;</span>: <span class="hljs-string">&quot;lint-staged&quot;</span><br>    &#125;<br>  &#125;,<br>  <span class="hljs-string">&quot;lint-staged&quot;</span>: &#123;<br>    <span class="hljs-attr">&quot;src/*.js&quot;</span>: [<br>      <span class="hljs-string">&quot;eslint --ext .js&quot;</span>,<br>      <span class="hljs-string">&quot;eslint --fix&quot;</span>,<br>      <span class="hljs-string">&quot;prettier --check &#x27;src/*.js&#x27;&quot;</span><br>    ],<br>    <span class="hljs-attr">&quot;*.css&quot;</span>: [<br>      <span class="hljs-string">&quot;prettier --check&quot;</span><br>    ]<br>  &#125;,<br>  <span class="hljs-string">&quot;devDependencies&quot;</span>: &#123;<br>    <span class="hljs-attr">&quot;commitizen&quot;</span>: <span class="hljs-string">&quot;^4.0.3&quot;</span>,<br>    <span class="hljs-attr">&quot;conventional-changelog-cli&quot;</span>: <span class="hljs-string">&quot;^2.0.31&quot;</span>,<br>    <span class="hljs-attr">&quot;conventional-changelog-custom-config&quot;</span>: <span class="hljs-string">&quot;^0.2.0&quot;</span>,<br>    <span class="hljs-attr">&quot;cz-conventional-changelog&quot;</span>: <span class="hljs-string">&quot;^3.0.2&quot;</span>,<br>    <span class="hljs-attr">&quot;eslint&quot;</span>: <span class="hljs-string">&quot;^6.8.0&quot;</span>,<br>    <span class="hljs-attr">&quot;husky&quot;</span>: <span class="hljs-string">&quot;^3.1.0&quot;</span>,<br>    <span class="hljs-attr">&quot;lint-staged&quot;</span>: <span class="hljs-string">&quot;^9.5.0&quot;</span>,<br>    <span class="hljs-attr">&quot;prettier&quot;</span>: <span class="hljs-string">&quot;^1.19.1&quot;</span>,<br>    <span class="hljs-attr">&quot;standard-version&quot;</span>: <span class="hljs-string">&quot;^7.0.1&quot;</span><br>  &#125;<br></code></pre></td></tr></table></figure>




<hr>
<h2 id="commit-ç±»å‹ç›¸å…³"><a href="#commit-ç±»å‹ç›¸å…³" class="headerlink" title="commit ç±»å‹ç›¸å…³"></a>commit ç±»å‹ç›¸å…³</h2><p>featï¼šæ–°åŠŸèƒ½<br>fixï¼šä¿®è¡¥ bug<br>docsï¼šä¿®æ”¹æ–‡æ¡£ï¼Œæ¯”å¦‚ README, CHANGELOG, CONTRIBUTE ç­‰ç­‰<br>styleï¼šä¸æ”¹å˜ä»£ç é€»è¾‘ (ä»…ä»…ä¿®æ”¹äº†ç©ºæ ¼ã€æ ¼å¼ç¼©è¿›ã€é€—å·ç­‰ç­‰) å¹¶ä¸æ˜¯ä¿®æ”¹css styleæ ·å¼<br>refactorï¼šé‡æ„ï¼ˆæ—¢ä¸ä¿®å¤é”™è¯¯ä¹Ÿä¸æ·»åŠ åŠŸèƒ½ï¼‰<br>perf: ä¼˜åŒ–ç›¸å…³ï¼Œæ¯”å¦‚æå‡æ€§èƒ½ã€ä½“éªŒ<br>testï¼šå¢åŠ æµ‹è¯•ï¼ŒåŒ…æ‹¬å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ç­‰<br>build: æ„å»ºç³»ç»Ÿæˆ–å¤–éƒ¨ä¾èµ–é¡¹çš„æ›´æ”¹<br>ciï¼šè‡ªåŠ¨åŒ–æµç¨‹é…ç½®æˆ–è„šæœ¬ä¿®æ”¹<br>chore: é src å’Œ test çš„ä¿®æ”¹ï¼ˆå…¶ä»–ä¿®æ”¹ï¼‰<br>revert: æ¢å¤å…ˆå‰çš„æäº¤  </p>
<h2 id="Git-Hooksç›¸å…³"><a href="#Git-Hooksç›¸å…³" class="headerlink" title="Git Hooksç›¸å…³"></a>Git Hooksç›¸å…³</h2><p>git hook å­˜åœ¨äºé¡¹ç›®ä¸­ .git æ–‡ä»¶å¤¹ä¸‹çš„ hooksä¸­ï¼Œé»˜è®¤ä»¥ç‚¹ sample æ‰©å±•åå­˜åœ¨ï¼Œä¸ä¼šè¢« git ç®¡ç†åˆ°ï¼Œä½¿ç”¨hookè¿›è¡Œæ§åˆ¶gitæµç¨‹éœ€è¦å¦å¤–åœ¨é¡¹ç›®ä¸­ä¿å­˜hooks  </p>
<table>
<thead>
<tr>
<th align="left">é’©å­</th>
<th align="center">é˜¶æ®µ</th>
<th align="center">ç”¨é€”</th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td align="left">pre-commit</td>
<td align="center">é”®å…¥æäº¤ä¿¡æ¯å‰</td>
<td align="center">å¯¹æäº¤çš„å¿«ç…§è¿›è¡Œæ£€æŸ¥ å¯ä»¥ç”¨ <code>git commit --no-verify</code>ç»•è¿‡è¯¥ç¯èŠ‚</td>
<td align="center">å®¢æˆ·ç«¯é’©å­</td>
</tr>
<tr>
<td align="left">prepare-commit-msg</td>
<td align="center">å¯åŠ¨æäº¤ä¿¡æ¯ç¼–è¾‘å™¨ä¹‹å‰ï¼Œé»˜è®¤ä¿¡æ¯è¢«åˆ›å»ºä¹‹åè¿è¡Œ</td>
<td align="center"></td>
<td align="center">å®¢æˆ·ç«¯é’©å­</td>
</tr>
<tr>
<td align="left">commit-msg</td>
<td align="center">æ¥æ”¶ä¸€ä¸ªå­˜æœ‰å½“å‰æäº¤ä¿¡æ¯çš„ä¸´æ—¶æ–‡ä»¶çš„è·¯å¾„å‚æ•°</td>
<td align="center">ç”¨æ¥åœ¨æäº¤é€šè¿‡å‰éªŒè¯é¡¹ç›®çŠ¶æ€æˆ–æäº¤ä¿¡æ¯</td>
<td align="center">å®¢æˆ·ç«¯é’©å­</td>
</tr>
<tr>
<td align="left">post-commit</td>
<td align="center">æ•´ä¸ªæäº¤è¿‡ç¨‹å®Œæˆåè¿è¡Œ</td>
<td align="center">ä¸€èˆ¬ç”¨äºé€šçŸ¥ä¹‹ç±»</td>
<td align="center">å®¢æˆ·ç«¯é’©å­</td>
</tr>
<tr>
<td align="left">post-merge</td>
<td align="center">git merge æˆåŠŸè¿è¡Œä¹‹å</td>
<td align="center"></td>
<td align="center">å®¢æˆ·ç«¯é’©å­</td>
</tr>
</tbody></table>
<h2 id="TODOï¼š-æœåŠ¡ç«¯é’©å­"><a href="#TODOï¼š-æœåŠ¡ç«¯é’©å­" class="headerlink" title="TODOï¼š æœåŠ¡ç«¯é’©å­"></a>TODOï¼š æœåŠ¡ç«¯é’©å­</h2><table>
<thead>
<tr>
<th align="left">é’©å­</th>
<th align="center">é˜¶æ®µ</th>
<th align="center">ç”¨é€”</th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td align="left">pre-recive</td>
<td align="center">å¤„ç†æ¥è‡ªå®¢æˆ·ç«¯çš„æ¨é€æ“ä½œæ—¶ï¼Œæœ€å…ˆè¢«è°ƒç”¨çš„è„šæœ¬æ˜¯ pre-receive</td>
<td align="center">å¯ä»¥ç”¨è¿™ä¸ªé’©å­é˜»æ­¢å¯¹å¼•ç”¨è¿›è¡Œéå¿«è¿›ï¼ˆnon-fast-forwardï¼‰çš„æ›´æ–°ï¼Œæˆ–è€…å¯¹è¯¥æ¨é€æ‰€ä¿®æ”¹çš„æ‰€æœ‰å¼•ç”¨å’Œæ–‡ä»¶è¿›è¡Œè®¿é—®æ§åˆ¶                                           å¯¹æäº¤çš„å¿«ç…§è¿›è¡Œæ£€æŸ¥</td>
<td align="center">æœåŠ¡ç«¯é’©å­</td>
</tr>
<tr>
<td align="left">update</td>
<td align="center">ä¸ºæ¯ä¸€ä¸ªå‡†å¤‡æ›´æ–°çš„åˆ†æ”¯å„è¿è¡Œä¸€æ¬¡</td>
<td align="center"></td>
<td align="center">æœåŠ¡ç«¯é’©å­</td>
</tr>
<tr>
<td align="left">post-recive</td>
<td align="center">æ•´ä¸ªæäº¤è¿‡ç¨‹å®Œæˆåè¿è¡Œ</td>
<td align="center">ä¸€èˆ¬ç”¨äºé€šçŸ¥ä¹‹ç±» æ›´æ–°å…¶ä»–ç³»ç»ŸæœåŠ¡æˆ–è€…é€šçŸ¥ç”¨æˆ· åŒ…æ‹¬ç»™æŸä¸ªé‚®ä»¶åˆ—è¡¨å‘ä¿¡ï¼Œé€šçŸ¥æŒç»­é›†æˆï¼ˆCIï¼‰çš„æœåŠ¡å™¨</td>
<td align="center">æœåŠ¡ç«¯é’©å­</td>
</tr>
</tbody></table>
<p>å‚è€ƒåœ°å€ï¼š<br>1: <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/51894196">git commit ã€CHANGELOG å’Œç‰ˆæœ¬å‘å¸ƒçš„æ ‡å‡†è‡ªåŠ¨åŒ–</a><br>2: <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/27094880">ç”¨ husky å’Œ lint-staged æ„å»ºè¶…æºœçš„ä»£ç æ£€æŸ¥å·¥ä½œæµ</a><br>3: <a target="_blank" rel="noopener" href="https://juejin.im/post/5d27f84a6fb9a07ed064ddf1">æ˜é‡‘ç¤¾åŒº</a><br>4: <a target="_blank" rel="noopener" href="https://git-scm.com/book/zh/v2/%E8%87%AA%E5%AE%9A%E4%B9%89-Git-Git-%E9%92%A9%E5%AD%90">git é’©å­</a></p>

  </article>

  
      
    <div class="nexmoe-post-copyright">
        <strong>æœ¬æ–‡ä½œè€…ï¼š</strong>å°åˆ«è‡´çœŸä¸œè¥¿<br>
        <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://heiliu.github.io/2019/12/30/gitHooks/" title="https:&#x2F;&#x2F;heiliu.github.io&#x2F;2019&#x2F;12&#x2F;30&#x2F;gitHooks&#x2F;" target="_blank" rel="noopener">https:&#x2F;&#x2F;heiliu.github.io&#x2F;2019&#x2F;12&#x2F;30&#x2F;gitHooks&#x2F;</a><br>
        
            true
        
    </div>


  
  
  <div class="nexmoe-post-meta nexmoe-rainbow">
    
    
</div>

  
      <div class="nexmoe-post-footer">
          <section class="nexmoe-comment">
    <div class="valine"></div>
<script src='https://cdn.jsdelivr.net/npm/valine'></script>
<script>
    // ä½¿ç”¨æ–¹æ³• https://valine.js.org/quickstart.html
    new Valine({
        el: '.valine',
        appId: 'nbKSzf8xLpdp0zGqwRkNJjeE-gzGzoHsz',
        appKey: '0WopfRxB7P9Q9CPleINLHXt1'
    })
</script>
</section>
      </div>
  
</div>
            <div class="nexmoe-post-right">
              <div class="nexmoe-fixed">
                  <div class="nexmoe-tool"> 
                    
                      
                    
                      <a href="#nexmoe-content" class="toc-link" aria-label="å›åˆ°é¡¶éƒ¨" title="top"><button class="mdui-fab mdui-ripple"><i class="nexmoefont icon-caret-top"></i></button></a>
                  </div>
              </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/combine/npm/lazysizes@5.1.0/lazysizes.min.js,npm/mdui@0.4.3/dist/js/mdui.min.js?v=1"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

 

<script async src="/js/app.js?v=1630501192961"></script>

<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js"></script>
<script>
	$(".justified-gallery").justifiedGallery({
		rowHeight: 160,
		margins: 10,
	});
</script>


    





    <!-- baidu Analytics -->
<script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?1b3ede68905f0bbb58c39b0e279d6246';
    var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

</body>

</html>
